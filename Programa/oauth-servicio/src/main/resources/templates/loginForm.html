<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iniciar Sesión</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
    rel="stylesheet"
  />
</head>
<body>
  <div class="container min-vh-100 d-flex justify-content-center align-items-center">
    <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%;">
      <h2 class="text-center mb-4">Bienvenido de vuelta</h2>
      <form method="POST" action="/login">
        <!-- Usuario -->
        <div th:if="${param.error}" class="alert alert-danger" role="alert">
          Usuario o contraseña incorrectos. Inténtalo de nuevo.
        </div>
        <div class="mb-3 position-relative">
          <label for="username" class="form-label">Usuario</label>
          <div class="input-group">
            <span class="input-group-text bg-light">
              <i class="bi bi-person text-muted"></i>
            </span>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control"
              placeholder="Ingresa tu usuario"
              required
            />
          </div>
        </div>

        <!-- Contraseña -->
        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Contraseña</label>
          <div class="input-group">
            <span class="input-group-text bg-light">
              <i class="bi bi-lock text-muted"></i>
            </span>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              placeholder="Ingresa tu contraseña"
              required
            />
          
            
          </div>
        </div>

        <!-- Botón de enviar -->
        <button type="submit" class="btn btn-primary w-100">
          Iniciar Sesión <i class="bi bi-arrow-right ms-2"></i>
        </button>
      </form>

      <div class="text-center mt-2" th:if="${param.error}">
        <a href="http://localhost:4200/send-link" class="text-decoration-none text-primary">¿Olvidaste tu contraseña?</a>
      </div>
      <!-- Registro y enlace al inicio -->
      <div class="text-center mt-4">
        <p class="text-muted">
          ¿No tienes una cuenta?
          <a href="http://localhost:4200/usuariof" class="text-decoration-none text-primary">Regístrate aquí</a>
        </p>
        <a href="http://localhost:4200/" class="text-decoration-none text-secondary">Volver al inicio</a>
      </div>
    </div>
  </div>

  <script>
    function togglePasswordVisibility() {
      const passwordInput = document.getElementById("password");
      const icon = document.getElementById("toggle-password-icon");
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
      } else {
        passwordInput.type = "password";
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
      }
    }
  </script>
</body>
</html>
